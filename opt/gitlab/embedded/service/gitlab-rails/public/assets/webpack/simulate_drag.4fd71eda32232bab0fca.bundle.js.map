{"version":3,"sources":["webpack:///simulate_drag.4fd71eda32232bab0fca.bundle.js","webpack:///./test_utils/simulate_drag.js"],"names":["webpackJsonp","7j+a","module","exports","simulateEvent","el","type","options","event","ownerDocument","test","createEvent","initMouseEvent","defaultView","button","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","initCustomEvent","dataTransfer","data","setData","val","this","getData","dispatchEvent","fireEvent","isLast","target","document","getElementById","substr","children","length","index","getTarget","getRect","rect","getBoundingClientRect","width","right","left","height","bottom","top","x","y","cx","cy","w","h","hw","wh","simulateDrag","callback","to","from","fromEl","toEl","firstEl","lastEl","scrollable","fromRect","toRect","firstRect","lastRect","startTime","Date","getTime","duration","ontap","window","SIMULATE_DRAG_ACTIVE","dragInterval","setInterval","progress","scrollLeft","scrollTop","overEl","elementFromPoint","ondragend","clearInterval","fromList","parentNode","toList"],"mappings":"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","file":"simulate_drag.4fd71eda32232bab0fca.bundle.js","sourcesContent":["webpackJsonp([21,25,26],{\n\n/***/ \"7j+a\":\n/***/ (function(module, exports) {\n\n/* eslint-disable wrap-iife, func-names, strict, no-var, vars-on-top, no-param-reassign, object-shorthand, no-shadow, comma-dangle, prefer-template, consistent-return, no-mixed-operators, no-unused-vars, no-unused-expressions, prefer-arrow-callback, max-len */\n(function () {\n  'use strict';\n\n  function simulateEvent(el, type, options) {\n    var event;\n    if (!el) return;\n    var ownerDocument = el.ownerDocument;\n\n    options = options || {};\n\n    if (/^mouse/.test(type)) {\n      event = ownerDocument.createEvent('MouseEvents');\n      event.initMouseEvent(type, true, true, ownerDocument.defaultView, options.button, options.screenX, options.screenY, options.clientX, options.clientY, options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.button, el);\n    } else {\n      event = ownerDocument.createEvent('CustomEvent');\n\n      event.initCustomEvent(type, true, true, ownerDocument.defaultView, options.button, options.screenX, options.screenY, options.clientX, options.clientY, options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.button, el);\n\n      event.dataTransfer = {\n        data: {},\n\n        setData: function setData(type, val) {\n          this.data[type] = val;\n        },\n\n        getData: function getData(type) {\n          return this.data[type];\n        }\n      };\n    }\n\n    if (el.dispatchEvent) {\n      el.dispatchEvent(event);\n    } else if (el.fireEvent) {\n      el.fireEvent('on' + type, event);\n    }\n\n    return event;\n  }\n\n  function isLast(target) {\n    var el = typeof target.el === 'string' ? document.getElementById(target.el.substr(1)) : target.el;\n    var children = el.children;\n\n    return children.length - 1 === target.index;\n  }\n\n  function getTarget(target) {\n    var el = typeof target.el === 'string' ? document.getElementById(target.el.substr(1)) : target.el;\n    var children = el.children;\n\n    return children[target.index] || children[target.index === 'first' ? 0 : -1] || children[target.index === 'last' ? children.length - 1 : -1] || el;\n  }\n\n  function getRect(el) {\n    var rect = el.getBoundingClientRect();\n    var width = rect.right - rect.left;\n    var height = rect.bottom - rect.top + 10;\n\n    return {\n      x: rect.left,\n      y: rect.top,\n      cx: rect.left + width / 2,\n      cy: rect.top + height / 2,\n      w: width,\n      h: height,\n      hw: width / 2,\n      wh: height / 2\n    };\n  }\n\n  function simulateDrag(options, callback) {\n    options.to.el = options.to.el || options.from.el;\n\n    var fromEl = getTarget(options.from);\n    var toEl = getTarget(options.to);\n    var firstEl = getTarget({\n      el: options.to.el,\n      index: 'first'\n    });\n    var lastEl = getTarget({\n      el: options.to.el,\n      index: 'last'\n    });\n    var scrollable = options.scrollable;\n\n    var fromRect = getRect(fromEl);\n    var toRect = getRect(toEl);\n    var firstRect = getRect(firstEl);\n    var lastRect = getRect(lastEl);\n\n    var startTime = new Date().getTime();\n    var duration = options.duration || 1000;\n    simulateEvent(fromEl, 'mousedown', { button: 0 });\n    options.ontap && options.ontap();\n    window.SIMULATE_DRAG_ACTIVE = 1;\n\n    if (options.to.index === 0) {\n      toRect.cy = firstRect.y;\n    } else if (isLast(options.to)) {\n      toRect.cy = lastRect.y + lastRect.h + 50;\n    }\n\n    var dragInterval = setInterval(function loop() {\n      var progress = (new Date().getTime() - startTime) / duration;\n      var x = fromRect.cx + (toRect.cx - fromRect.cx) * progress - scrollable.scrollLeft;\n      var y = fromRect.cy + (toRect.cy - fromRect.cy) * progress - scrollable.scrollTop;\n      var overEl = fromEl.ownerDocument.elementFromPoint(x, y);\n\n      simulateEvent(overEl, 'mousemove', {\n        clientX: x,\n        clientY: y\n      });\n\n      if (progress >= 1) {\n        options.ondragend && options.ondragend();\n        simulateEvent(toEl, 'mouseup');\n        clearInterval(dragInterval);\n        window.SIMULATE_DRAG_ACTIVE = 0;\n      }\n    }, 100);\n\n    return {\n      target: fromEl,\n      fromList: fromEl.parentNode,\n      toList: toEl.parentNode\n    };\n  }\n\n  // Export\n  window.simulateEvent = simulateEvent;\n  window.simulateDrag = simulateDrag;\n})();\n\n/***/ })\n\n},[\"7j+a\"]);\n\n\n// WEBPACK FOOTER //\n// simulate_drag.4fd71eda32232bab0fca.bundle.js","/* eslint-disable wrap-iife, func-names, strict, no-var, vars-on-top, no-param-reassign, object-shorthand, no-shadow, comma-dangle, prefer-template, consistent-return, no-mixed-operators, no-unused-vars, no-unused-expressions, prefer-arrow-callback, max-len */\n(function () {\n  'use strict';\n\n  function simulateEvent(el, type, options) {\n    var event;\n    if (!el) return;\n    var ownerDocument = el.ownerDocument;\n\n    options = options || {};\n\n    if (/^mouse/.test(type)) {\n      event = ownerDocument.createEvent('MouseEvents');\n      event.initMouseEvent(type, true, true, ownerDocument.defaultView,\n      options.button, options.screenX, options.screenY, options.clientX, options.clientY,\n      options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.button, el);\n    } else {\n      event = ownerDocument.createEvent('CustomEvent');\n\n      event.initCustomEvent(type, true, true, ownerDocument.defaultView,\n      options.button, options.screenX, options.screenY, options.clientX, options.clientY,\n      options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.button, el);\n\n      event.dataTransfer = {\n        data: {},\n\n        setData: function (type, val) {\n          this.data[type] = val;\n        },\n\n        getData: function (type) {\n          return this.data[type];\n        }\n      };\n    }\n\n    if (el.dispatchEvent) {\n      el.dispatchEvent(event);\n    } else if (el.fireEvent) {\n      el.fireEvent('on' + type, event);\n    }\n\n    return event;\n  }\n\n  function isLast(target) {\n    var el = typeof target.el === 'string' ? document.getElementById(target.el.substr(1)) : target.el;\n    var children = el.children;\n\n    return children.length - 1 === target.index;\n  }\n\n  function getTarget(target) {\n    var el = typeof target.el === 'string' ? document.getElementById(target.el.substr(1)) : target.el;\n    var children = el.children;\n\n    return (\n      children[target.index] ||\n      children[target.index === 'first' ? 0 : -1] ||\n      children[target.index === 'last' ? children.length - 1 : -1] ||\n      el\n    );\n  }\n\n  function getRect(el) {\n    var rect = el.getBoundingClientRect();\n    var width = rect.right - rect.left;\n    var height = rect.bottom - rect.top + 10;\n\n    return {\n      x: rect.left,\n      y: rect.top,\n      cx: rect.left + width / 2,\n      cy: rect.top + height / 2,\n      w: width,\n      h: height,\n      hw: width / 2,\n      wh: height / 2\n    };\n  }\n\n  function simulateDrag(options, callback) {\n    options.to.el = options.to.el || options.from.el;\n\n    var fromEl = getTarget(options.from);\n    var toEl = getTarget(options.to);\n    var firstEl = getTarget({\n      el: options.to.el,\n      index: 'first'\n    });\n    var lastEl = getTarget({\n      el: options.to.el,\n      index: 'last'\n    });\n    var scrollable = options.scrollable;\n\n    var fromRect = getRect(fromEl);\n    var toRect = getRect(toEl);\n    var firstRect = getRect(firstEl);\n    var lastRect = getRect(lastEl);\n\n    var startTime = new Date().getTime();\n    var duration = options.duration || 1000;\n    simulateEvent(fromEl, 'mousedown', { button: 0 });\n    options.ontap && options.ontap();\n    window.SIMULATE_DRAG_ACTIVE = 1;\n\n    if (options.to.index === 0) {\n      toRect.cy = firstRect.y;\n    } else if (isLast(options.to)) {\n      toRect.cy = lastRect.y + lastRect.h + 50;\n    }\n\n    var dragInterval = setInterval(function loop() {\n      var progress = (new Date().getTime() - startTime) / duration;\n      var x = (fromRect.cx + (toRect.cx - fromRect.cx) * progress) - scrollable.scrollLeft;\n      var y = (fromRect.cy + (toRect.cy - fromRect.cy) * progress) - scrollable.scrollTop;\n      var overEl = fromEl.ownerDocument.elementFromPoint(x, y);\n\n      simulateEvent(overEl, 'mousemove', {\n        clientX: x,\n        clientY: y\n      });\n\n      if (progress >= 1) {\n        options.ondragend && options.ondragend();\n        simulateEvent(toEl, 'mouseup');\n        clearInterval(dragInterval);\n        window.SIMULATE_DRAG_ACTIVE = 0;\n      }\n    }, 100);\n\n    return {\n      target: fromEl,\n      fromList: fromEl.parentNode,\n      toList: toEl.parentNode\n    };\n  }\n\n  // Export\n  window.simulateEvent = simulateEvent;\n  window.simulateDrag = simulateDrag;\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./test_utils/simulate_drag.js"],"sourceRoot":""}