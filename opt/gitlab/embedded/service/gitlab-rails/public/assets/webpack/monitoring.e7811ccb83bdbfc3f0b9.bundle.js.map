{"version":3,"sources":["webpack:///monitoring.e7811ccb83bdbfc3f0b9.bundle.js","webpack:///./monitoring/monitoring_bundle.js","webpack:///./monitoring/prometheus_graph.js","webpack:///./lib/utils/http_status.js"],"names":["webpackJsonp","IO1F","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__prometheus_graph__","document","addEventListener","onLoad","removeEventListener","P//+","$","_classCallCheck","instance","Constructor","TypeError","__WEBPACK_IMPORTED_MODULE_0_d3__","__WEBPACK_IMPORTED_MODULE_0_d3___default","n","__WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status__","__WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status___default","__WEBPACK_IMPORTED_MODULE_2__lib_utils_common_utils__","__WEBPACK_IMPORTED_MODULE_3__flash__","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","prometheusGraphsContainer","metricsEndpoint","timeFormat","a","time","format","dayFormat","bisectDate","bisector","d","left","extraAddedWidthParent","PrometheusGraph","this","margin","top","right","bottom","marginLabelContainer","parentContainerWidth","parent","width","originalWidth","originalHeight","height","backOffRequestCounter","configureGraph","init","_this","keys","data","forEach","plotValues","_this2","getData","then","metricsResponse","Flash","transformData","createGraph","valuesToPlot","x","scale","range","y","linear","prometheusGraphContainer","graphSpecifics","graphSpecificProperties","chart","select","attr","append","axisLabelContainer","domain","extent","max","map","metricValue","xAxis","svg","axis","ticks","commonGraphProperties","axis_no_ticks","orient","yAxis","tickSize","createAxisLabelContainers","call","area","y0","y1","interpolate","line","datum","area_fill_color","line_color","area_stroke_width","on","handleMouseOverGraph","bind","x1","x2","y2","text","graph_legend_title","style","rectOverlay","querySelector","timeValueFromOverlay","invert","mouse","timeValueIndex","d0","d1","currentData","maxValueMetric","currentTimeCoordinate","selectAll","remove","circle_radius_metric","rectTextMetric","rect_text_width","rect_text_height","substring","cpu_values","memory_values","median_total_characters","_this3","maxNumberOfRequests","gl","utils","backOff","next","stop","ajax","url","dataType","done","statusText","resp","status","NO_CONTENT","metrics","fail","catch","metricTypes","metricValues","values","metric","Date","P6M/","exports","statusCodes","OK"],"mappings":"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","file":"monitoring.e7811ccb83bdbfc3f0b9.bundle.js","sourcesContent":["webpackJsonp([16,25,26],{\n\n/***/ \"IO1F\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__prometheus_graph__ = __webpack_require__(\"P//+\");\n\n\ndocument.addEventListener('DOMContentLoaded', function onLoad() {\n  document.removeEventListener('DOMContentLoaded', onLoad, false);\n  return new __WEBPACK_IMPORTED_MODULE_0__prometheus_graph__[\"a\" /* default */]();\n}, false);\n\n/***/ }),\n\n/***/ \"P//+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d3__ = __webpack_require__(\"+3IL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d3___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_d3__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status__ = __webpack_require__(\"P6M/\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_utils_common_utils__ = __webpack_require__(\"RsTm\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_utils_common_utils___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__lib_utils_common_utils__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__flash__ = __webpack_require__(\"nYQN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__flash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__flash__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* eslint-disable no-new*/\n/* global Flash */\n\n\n\n\n\n\nvar prometheusGraphsContainer = '.prometheus-graph';\nvar metricsEndpoint = 'metrics.json';\nvar timeFormat = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.time.format('%H:%M');\nvar dayFormat = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.time.format('%b %e, %a');\nvar bisectDate = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.bisector(function (d) {\n  return d.time;\n}).left;\nvar extraAddedWidthParent = 100;\n\nvar PrometheusGraph = function () {\n  function PrometheusGraph() {\n    _classCallCheck(this, PrometheusGraph);\n\n    this.margin = { top: 80, right: 180, bottom: 80, left: 100 };\n    this.marginLabelContainer = { top: 40, right: 0, bottom: 40, left: 0 };\n    var parentContainerWidth = $(prometheusGraphsContainer).parent().width() + extraAddedWidthParent;\n    this.originalWidth = parentContainerWidth;\n    this.originalHeight = 400;\n    this.width = parentContainerWidth - this.margin.left - this.margin.right;\n    this.height = 400 - this.margin.top - this.margin.bottom;\n    this.backOffRequestCounter = 0;\n    this.configureGraph();\n    this.init();\n  }\n\n  _createClass(PrometheusGraph, [{\n    key: 'createGraph',\n    value: function createGraph() {\n      var _this = this;\n\n      Object.keys(this.data).forEach(function (key) {\n        var value = _this.data[key];\n        if (value.length > 0) {\n          _this.plotValues(value, key);\n        }\n      });\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      var _this2 = this;\n\n      this.getData().then(function (metricsResponse) {\n        if (Object.keys(metricsResponse).length === 0) {\n          new Flash('Empty metrics', 'alert');\n        } else {\n          _this2.transformData(metricsResponse);\n          _this2.createGraph();\n        }\n      });\n    }\n  }, {\n    key: 'plotValues',\n    value: function plotValues(valuesToPlot, key) {\n      var x = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.time.scale().range([0, this.width]);\n\n      var y = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.scale.linear().range([this.height, 0]);\n\n      var prometheusGraphContainer = prometheusGraphsContainer + '[graph-type=' + key + ']';\n\n      var graphSpecifics = this.graphSpecificProperties[key];\n\n      var chart = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.select(prometheusGraphContainer).attr('width', this.width + this.margin.left + this.margin.right).attr('height', this.height + this.margin.bottom + this.margin.top).append('g').attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n      var axisLabelContainer = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.select(prometheusGraphContainer).attr('width', this.originalWidth + this.marginLabelContainer.left + this.marginLabelContainer.right).attr('height', this.originalHeight + this.marginLabelContainer.bottom + this.marginLabelContainer.top).append('g').attr('transform', 'translate(' + this.marginLabelContainer.left + ',' + this.marginLabelContainer.top + ')');\n\n      x.domain(__WEBPACK_IMPORTED_MODULE_0_d3___default.a.extent(valuesToPlot, function (d) {\n        return d.time;\n      }));\n      y.domain([0, __WEBPACK_IMPORTED_MODULE_0_d3___default.a.max(valuesToPlot.map(function (metricValue) {\n        return metricValue.value;\n      }))]);\n\n      var xAxis = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.svg.axis().scale(x).ticks(this.commonGraphProperties.axis_no_ticks).orient('bottom');\n\n      var yAxis = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.svg.axis().scale(y).ticks(this.commonGraphProperties.axis_no_ticks).tickSize(-this.width).orient('left');\n\n      this.createAxisLabelContainers(axisLabelContainer, key);\n\n      chart.append('g').attr('class', 'x-axis').attr('transform', 'translate(0,' + this.height + ')').call(xAxis);\n\n      chart.append('g').attr('class', 'y-axis').call(yAxis);\n\n      var area = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.svg.area().x(function (d) {\n        return x(d.time);\n      }).y0(this.height).y1(function (d) {\n        return y(d.value);\n      }).interpolate('linear');\n\n      var line = __WEBPACK_IMPORTED_MODULE_0_d3___default.a.svg.line().x(function (d) {\n        return x(d.time);\n      }).y(function (d) {\n        return y(d.value);\n      });\n\n      chart.append('path').datum(valuesToPlot).attr('d', area).attr('class', 'metric-area').attr('fill', graphSpecifics.area_fill_color);\n\n      chart.append('path').datum(valuesToPlot).attr('class', 'metric-line').attr('stroke', graphSpecifics.line_color).attr('fill', 'none').attr('stroke-width', this.commonGraphProperties.area_stroke_width).attr('d', line);\n\n      // Overlay area for the mouseover events\n      chart.append('rect').attr('class', 'prometheus-graph-overlay').attr('width', this.width).attr('height', this.height).on('mousemove', this.handleMouseOverGraph.bind(this, x, y, valuesToPlot, chart, prometheusGraphContainer, key));\n    }\n\n    // The legends from the metric\n\n  }, {\n    key: 'createAxisLabelContainers',\n    value: function createAxisLabelContainers(axisLabelContainer, key) {\n      var graphSpecifics = this.graphSpecificProperties[key];\n\n      axisLabelContainer.append('line').attr('class', 'label-x-axis-line').attr('stroke', '#000000').attr('stroke-width', '1').attr({\n        x1: 0,\n        y1: this.originalHeight - this.marginLabelContainer.top,\n        x2: this.originalWidth - this.margin.right,\n        y2: this.originalHeight - this.marginLabelContainer.top\n      });\n\n      axisLabelContainer.append('line').attr('class', 'label-y-axis-line').attr('stroke', '#000000').attr('stroke-width', '1').attr({\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: this.originalHeight - this.marginLabelContainer.top\n      });\n\n      axisLabelContainer.append('text').attr('class', 'label-axis-text').attr('text-anchor', 'middle').attr('transform', 'translate(15, ' + (this.originalHeight - this.marginLabelContainer.top) / 2 + ') rotate(-90)').text(graphSpecifics.graph_legend_title);\n\n      axisLabelContainer.append('rect').attr('class', 'rect-axis-text').attr('x', this.originalWidth / 2 - this.margin.right).attr('y', this.originalHeight - this.marginLabelContainer.top - 20).attr('width', 30).attr('height', 80);\n\n      axisLabelContainer.append('text').attr('class', 'label-axis-text').attr('x', this.originalWidth / 2 - this.margin.right).attr('y', this.originalHeight - this.marginLabelContainer.top).attr('dy', '.35em').text('Time');\n\n      // Legends\n\n      // Metric Usage\n      axisLabelContainer.append('rect').attr('x', this.originalWidth - 170).attr('y', this.originalHeight / 2 - 60).style('fill', graphSpecifics.area_fill_color).attr('width', 20).attr('height', 35);\n\n      axisLabelContainer.append('text').attr('class', 'label-axis-text').attr('x', this.originalWidth - 140).attr('y', this.originalHeight / 2 - 50).text('Average');\n\n      axisLabelContainer.append('text').attr('class', 'text-metric-usage').attr('x', this.originalWidth - 140).attr('y', this.originalHeight / 2 - 25);\n    }\n  }, {\n    key: 'handleMouseOverGraph',\n    value: function handleMouseOverGraph(x, y, valuesToPlot, chart, prometheusGraphContainer, key) {\n      var rectOverlay = document.querySelector(prometheusGraphContainer + ' .prometheus-graph-overlay');\n      var timeValueFromOverlay = x.invert(__WEBPACK_IMPORTED_MODULE_0_d3___default.a.mouse(rectOverlay)[0]);\n      var timeValueIndex = bisectDate(valuesToPlot, timeValueFromOverlay, 1);\n      var d0 = valuesToPlot[timeValueIndex - 1];\n      var d1 = valuesToPlot[timeValueIndex];\n      var currentData = timeValueFromOverlay - d0.time > d1.time - timeValueFromOverlay ? d1 : d0;\n      var maxValueMetric = y(__WEBPACK_IMPORTED_MODULE_0_d3___default.a.max(valuesToPlot.map(function (metricValue) {\n        return metricValue.value;\n      })));\n      var currentTimeCoordinate = x(currentData.time);\n      var graphSpecifics = this.graphSpecificProperties[key];\n      // Remove the current selectors\n      __WEBPACK_IMPORTED_MODULE_0_d3___default.a.selectAll(prometheusGraphContainer + ' .selected-metric-line').remove();\n      __WEBPACK_IMPORTED_MODULE_0_d3___default.a.selectAll(prometheusGraphContainer + ' .circle-metric').remove();\n      __WEBPACK_IMPORTED_MODULE_0_d3___default.a.selectAll(prometheusGraphContainer + ' .rect-text-metric').remove();\n      __WEBPACK_IMPORTED_MODULE_0_d3___default.a.selectAll(prometheusGraphContainer + ' .text-metric').remove();\n\n      chart.append('line').attr('class', 'selected-metric-line').attr({\n        x1: currentTimeCoordinate,\n        y1: y(0),\n        x2: currentTimeCoordinate,\n        y2: maxValueMetric\n      });\n\n      chart.append('circle').attr('class', 'circle-metric').attr('fill', graphSpecifics.line_color).attr('cx', currentTimeCoordinate).attr('cy', y(currentData.value)).attr('r', this.commonGraphProperties.circle_radius_metric);\n\n      // The little box with text\n      var rectTextMetric = chart.append('g').attr('class', 'rect-text-metric').attr('translate', '(' + currentTimeCoordinate + ', ' + y(currentData.value) + ')');\n\n      rectTextMetric.append('rect').attr('class', 'rect-metric').attr('x', currentTimeCoordinate + 10).attr('y', maxValueMetric).attr('width', this.commonGraphProperties.rect_text_width).attr('height', this.commonGraphProperties.rect_text_height);\n\n      rectTextMetric.append('text').attr('class', 'text-metric').attr('x', currentTimeCoordinate + 35).attr('y', maxValueMetric + 35).text(timeFormat(currentData.time));\n\n      rectTextMetric.append('text').attr('class', 'text-metric-date').attr('x', currentTimeCoordinate + 15).attr('y', maxValueMetric + 15).text(dayFormat(currentData.time));\n\n      // Update the text\n      __WEBPACK_IMPORTED_MODULE_0_d3___default.a.select(prometheusGraphContainer + ' .text-metric-usage').text(currentData.value.substring(0, 8));\n    }\n  }, {\n    key: 'configureGraph',\n    value: function configureGraph() {\n      this.graphSpecificProperties = {\n        cpu_values: {\n          area_fill_color: '#edf3fc',\n          line_color: '#5b99f7',\n          graph_legend_title: 'CPU utilization (%)'\n        },\n        memory_values: {\n          area_fill_color: '#fca326',\n          line_color: '#fc6d26',\n          graph_legend_title: 'Memory usage (MB)'\n        }\n      };\n\n      this.commonGraphProperties = {\n        area_stroke_width: 2,\n        median_total_characters: 8,\n        circle_radius_metric: 5,\n        rect_text_width: 90,\n        rect_text_height: 40,\n        axis_no_ticks: 3\n      };\n    }\n  }, {\n    key: 'getData',\n    value: function getData() {\n      var _this3 = this;\n\n      var maxNumberOfRequests = 3;\n      return gl.utils.backOff(function (next, stop) {\n        $.ajax({\n          url: metricsEndpoint,\n          dataType: 'json'\n        }).done(function (data, statusText, resp) {\n          if (resp.status === __WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status___default.a.NO_CONTENT) {\n            _this3.backOffRequestCounter = _this3.backOffRequestCounter += 1;\n            if (_this3.backOffRequestCounter < maxNumberOfRequests) {\n              next();\n            } else {\n              stop({\n                status: resp.status,\n                metrics: data\n              });\n            }\n          } else {\n            stop({\n              status: resp.status,\n              metrics: data\n            });\n          }\n        }).fail(stop);\n      }).then(function (resp) {\n        if (resp.status === __WEBPACK_IMPORTED_MODULE_1__lib_utils_http_status___default.a.NO_CONTENT) {\n          return {};\n        }\n        return resp.metrics;\n      }).catch(function () {\n        return new Flash('An error occurred while fetching metrics.', 'alert');\n      });\n    }\n  }, {\n    key: 'transformData',\n    value: function transformData(metricsResponse) {\n      var metricTypes = {};\n      Object.keys(metricsResponse.metrics).forEach(function (key) {\n        if (key === 'cpu_values' || key === 'memory_values') {\n          var metricValues = metricsResponse.metrics[key][0];\n          metricTypes[key] = metricValues.values.map(function (metric) {\n            return {\n              time: new Date(metric[0] * 1000),\n              value: metric[1]\n            };\n          });\n        }\n      });\n      this.data = metricTypes;\n    }\n  }]);\n\n  return PrometheusGraph;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = PrometheusGraph;\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"lwLq\")))\n\n/***/ }),\n\n/***/ \"P6M/\":\n/***/ (function(module, exports) {\n\n/**\n * exports HTTP status codes\n */\n\nvar statusCodes = {\n  NO_CONTENT: 204,\n  OK: 200\n};\n\nmodule.exports = statusCodes;\n\n/***/ })\n\n},[\"IO1F\"]);\n\n\n// WEBPACK FOOTER //\n// monitoring.e7811ccb83bdbfc3f0b9.bundle.js","import PrometheusGraph from './prometheus_graph';\n\ndocument.addEventListener('DOMContentLoaded', function onLoad() {\n  document.removeEventListener('DOMContentLoaded', onLoad, false);\n  return new PrometheusGraph();\n}, false);\n\n\n\n// WEBPACK FOOTER //\n// ./monitoring/monitoring_bundle.js","/* eslint-disable no-new*/\n/* global Flash */\n\nimport d3 from 'd3';\nimport statusCodes from '~/lib/utils/http_status';\nimport '../lib/utils/common_utils';\nimport '../flash';\n\nconst prometheusGraphsContainer = '.prometheus-graph';\nconst metricsEndpoint = 'metrics.json';\nconst timeFormat = d3.time.format('%H:%M');\nconst dayFormat = d3.time.format('%b %e, %a');\nconst bisectDate = d3.bisector(d => d.time).left;\nconst extraAddedWidthParent = 100;\n\nclass PrometheusGraph {\n\n  constructor() {\n    this.margin = { top: 80, right: 180, bottom: 80, left: 100 };\n    this.marginLabelContainer = { top: 40, right: 0, bottom: 40, left: 0 };\n    const parentContainerWidth = $(prometheusGraphsContainer).parent().width() +\n    extraAddedWidthParent;\n    this.originalWidth = parentContainerWidth;\n    this.originalHeight = 400;\n    this.width = parentContainerWidth - this.margin.left - this.margin.right;\n    this.height = 400 - this.margin.top - this.margin.bottom;\n    this.backOffRequestCounter = 0;\n    this.configureGraph();\n    this.init();\n  }\n\n  createGraph() {\n    Object.keys(this.data).forEach((key) => {\n      const value = this.data[key];\n      if (value.length > 0) {\n        this.plotValues(value, key);\n      }\n    });\n  }\n\n  init() {\n    this.getData().then((metricsResponse) => {\n      if (Object.keys(metricsResponse).length === 0) {\n        new Flash('Empty metrics', 'alert');\n      } else {\n        this.transformData(metricsResponse);\n        this.createGraph();\n      }\n    });\n  }\n\n  plotValues(valuesToPlot, key) {\n    const x = d3.time.scale()\n        .range([0, this.width]);\n\n    const y = d3.scale.linear()\n        .range([this.height, 0]);\n\n    const prometheusGraphContainer = `${prometheusGraphsContainer}[graph-type=${key}]`;\n\n    const graphSpecifics = this.graphSpecificProperties[key];\n\n    const chart = d3.select(prometheusGraphContainer)\n        .attr('width', this.width + this.margin.left + this.margin.right)\n        .attr('height', this.height + this.margin.bottom + this.margin.top)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left},${this.margin.top})`);\n\n    const axisLabelContainer = d3.select(prometheusGraphContainer)\n      .attr('width', this.originalWidth + this.marginLabelContainer.left + this.marginLabelContainer.right)\n      .attr('height', this.originalHeight + this.marginLabelContainer.bottom + this.marginLabelContainer.top)\n      .append('g')\n        .attr('transform', `translate(${this.marginLabelContainer.left},${this.marginLabelContainer.top})`);\n\n    x.domain(d3.extent(valuesToPlot, d => d.time));\n    y.domain([0, d3.max(valuesToPlot.map(metricValue => metricValue.value))]);\n\n    const xAxis = d3.svg.axis()\n        .scale(x)\n        .ticks(this.commonGraphProperties.axis_no_ticks)\n        .orient('bottom');\n\n    const yAxis = d3.svg.axis()\n        .scale(y)\n        .ticks(this.commonGraphProperties.axis_no_ticks)\n        .tickSize(-this.width)\n        .orient('left');\n\n    this.createAxisLabelContainers(axisLabelContainer, key);\n\n    chart.append('g')\n        .attr('class', 'x-axis')\n        .attr('transform', `translate(0,${this.height})`)\n        .call(xAxis);\n\n    chart.append('g')\n        .attr('class', 'y-axis')\n        .call(yAxis);\n\n    const area = d3.svg.area()\n      .x(d => x(d.time))\n      .y0(this.height)\n      .y1(d => y(d.value))\n      .interpolate('linear');\n\n    const line = d3.svg.line()\n    .x(d => x(d.time))\n    .y(d => y(d.value));\n\n    chart.append('path')\n    .datum(valuesToPlot)\n    .attr('d', area)\n    .attr('class', 'metric-area')\n    .attr('fill', graphSpecifics.area_fill_color);\n\n    chart.append('path')\n      .datum(valuesToPlot)\n      .attr('class', 'metric-line')\n      .attr('stroke', graphSpecifics.line_color)\n      .attr('fill', 'none')\n      .attr('stroke-width', this.commonGraphProperties.area_stroke_width)\n      .attr('d', line);\n\n    // Overlay area for the mouseover events\n    chart.append('rect')\n      .attr('class', 'prometheus-graph-overlay')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .on('mousemove', this.handleMouseOverGraph.bind(this, x, y, valuesToPlot, chart, prometheusGraphContainer, key));\n  }\n\n  // The legends from the metric\n  createAxisLabelContainers(axisLabelContainer, key) {\n    const graphSpecifics = this.graphSpecificProperties[key];\n\n    axisLabelContainer.append('line')\n        .attr('class', 'label-x-axis-line')\n        .attr('stroke', '#000000')\n        .attr('stroke-width', '1')\n        .attr({\n          x1: 0,\n          y1: this.originalHeight - this.marginLabelContainer.top,\n          x2: this.originalWidth - this.margin.right,\n          y2: this.originalHeight - this.marginLabelContainer.top,\n        });\n\n    axisLabelContainer.append('line')\n          .attr('class', 'label-y-axis-line')\n          .attr('stroke', '#000000')\n          .attr('stroke-width', '1')\n          .attr({\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: this.originalHeight - this.marginLabelContainer.top,\n          });\n\n    axisLabelContainer.append('text')\n          .attr('class', 'label-axis-text')\n          .attr('text-anchor', 'middle')\n          .attr('transform', `translate(15, ${(this.originalHeight - this.marginLabelContainer.top) / 2}) rotate(-90)`)\n          .text(graphSpecifics.graph_legend_title);\n\n    axisLabelContainer.append('rect')\n          .attr('class', 'rect-axis-text')\n          .attr('x', (this.originalWidth / 2) - this.margin.right)\n          .attr('y', this.originalHeight - this.marginLabelContainer.top - 20)\n          .attr('width', 30)\n          .attr('height', 80);\n\n    axisLabelContainer.append('text')\n          .attr('class', 'label-axis-text')\n          .attr('x', (this.originalWidth / 2) - this.margin.right)\n          .attr('y', this.originalHeight - this.marginLabelContainer.top)\n          .attr('dy', '.35em')\n          .text('Time');\n\n    // Legends\n\n    // Metric Usage\n    axisLabelContainer.append('rect')\n          .attr('x', this.originalWidth - 170)\n          .attr('y', (this.originalHeight / 2) - 60)\n          .style('fill', graphSpecifics.area_fill_color)\n          .attr('width', 20)\n          .attr('height', 35);\n\n    axisLabelContainer.append('text')\n          .attr('class', 'label-axis-text')\n          .attr('x', this.originalWidth - 140)\n          .attr('y', (this.originalHeight / 2) - 50)\n          .text('Average');\n\n    axisLabelContainer.append('text')\n            .attr('class', 'text-metric-usage')\n            .attr('x', this.originalWidth - 140)\n            .attr('y', (this.originalHeight / 2) - 25);\n  }\n\n  handleMouseOverGraph(x, y, valuesToPlot, chart, prometheusGraphContainer, key) {\n    const rectOverlay = document.querySelector(`${prometheusGraphContainer} .prometheus-graph-overlay`);\n    const timeValueFromOverlay = x.invert(d3.mouse(rectOverlay)[0]);\n    const timeValueIndex = bisectDate(valuesToPlot, timeValueFromOverlay, 1);\n    const d0 = valuesToPlot[timeValueIndex - 1];\n    const d1 = valuesToPlot[timeValueIndex];\n    const currentData = timeValueFromOverlay - d0.time > d1.time - timeValueFromOverlay ? d1 : d0;\n    const maxValueMetric = y(d3.max(valuesToPlot.map(metricValue => metricValue.value)));\n    const currentTimeCoordinate = x(currentData.time);\n    const graphSpecifics = this.graphSpecificProperties[key];\n    // Remove the current selectors\n    d3.selectAll(`${prometheusGraphContainer} .selected-metric-line`).remove();\n    d3.selectAll(`${prometheusGraphContainer} .circle-metric`).remove();\n    d3.selectAll(`${prometheusGraphContainer} .rect-text-metric`).remove();\n    d3.selectAll(`${prometheusGraphContainer} .text-metric`).remove();\n\n    chart.append('line')\n    .attr('class', 'selected-metric-line')\n    .attr({\n      x1: currentTimeCoordinate,\n      y1: y(0),\n      x2: currentTimeCoordinate,\n      y2: maxValueMetric,\n    });\n\n    chart.append('circle')\n    .attr('class', 'circle-metric')\n    .attr('fill', graphSpecifics.line_color)\n    .attr('cx', currentTimeCoordinate)\n    .attr('cy', y(currentData.value))\n    .attr('r', this.commonGraphProperties.circle_radius_metric);\n\n    // The little box with text\n    const rectTextMetric = chart.append('g')\n    .attr('class', 'rect-text-metric')\n    .attr('translate', `(${currentTimeCoordinate}, ${y(currentData.value)})`);\n\n    rectTextMetric.append('rect')\n    .attr('class', 'rect-metric')\n    .attr('x', currentTimeCoordinate + 10)\n    .attr('y', maxValueMetric)\n    .attr('width', this.commonGraphProperties.rect_text_width)\n    .attr('height', this.commonGraphProperties.rect_text_height);\n\n    rectTextMetric.append('text')\n    .attr('class', 'text-metric')\n    .attr('x', currentTimeCoordinate + 35)\n    .attr('y', maxValueMetric + 35)\n    .text(timeFormat(currentData.time));\n\n    rectTextMetric.append('text')\n    .attr('class', 'text-metric-date')\n    .attr('x', currentTimeCoordinate + 15)\n    .attr('y', maxValueMetric + 15)\n    .text(dayFormat(currentData.time));\n\n    // Update the text\n    d3.select(`${prometheusGraphContainer} .text-metric-usage`)\n      .text(currentData.value.substring(0, 8));\n  }\n\n  configureGraph() {\n    this.graphSpecificProperties = {\n      cpu_values: {\n        area_fill_color: '#edf3fc',\n        line_color: '#5b99f7',\n        graph_legend_title: 'CPU utilization (%)',\n      },\n      memory_values: {\n        area_fill_color: '#fca326',\n        line_color: '#fc6d26',\n        graph_legend_title: 'Memory usage (MB)',\n      },\n    };\n\n    this.commonGraphProperties = {\n      area_stroke_width: 2,\n      median_total_characters: 8,\n      circle_radius_metric: 5,\n      rect_text_width: 90,\n      rect_text_height: 40,\n      axis_no_ticks: 3,\n    };\n  }\n\n  getData() {\n    const maxNumberOfRequests = 3;\n    return gl.utils.backOff((next, stop) => {\n      $.ajax({\n        url: metricsEndpoint,\n        dataType: 'json',\n      })\n      .done((data, statusText, resp) => {\n        if (resp.status === statusCodes.NO_CONTENT) {\n          this.backOffRequestCounter = this.backOffRequestCounter += 1;\n          if (this.backOffRequestCounter < maxNumberOfRequests) {\n            next();\n          } else {\n            stop({\n              status: resp.status,\n              metrics: data,\n            });\n          }\n        } else {\n          stop({\n            status: resp.status,\n            metrics: data,\n          });\n        }\n      }).fail(stop);\n    })\n    .then((resp) => {\n      if (resp.status === statusCodes.NO_CONTENT) {\n        return {};\n      }\n      return resp.metrics;\n    })\n    .catch(() => new Flash('An error occurred while fetching metrics.', 'alert'));\n  }\n\n  transformData(metricsResponse) {\n    const metricTypes = {};\n    Object.keys(metricsResponse.metrics).forEach((key) => {\n      if (key === 'cpu_values' || key === 'memory_values') {\n        const metricValues = (metricsResponse.metrics[key])[0];\n        metricTypes[key] = metricValues.values.map(metric => ({\n          time: new Date(metric[0] * 1000),\n          value: metric[1],\n        }));\n      }\n    });\n    this.data = metricTypes;\n  }\n}\n\nexport default PrometheusGraph;\n\n\n\n// WEBPACK FOOTER //\n// ./monitoring/prometheus_graph.js","/**\n * exports HTTP status codes\n */\n\nconst statusCodes = {\n  NO_CONTENT: 204,\n  OK: 200,\n};\n\nmodule.exports = statusCodes;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils/http_status.js"],"sourceRoot":""}