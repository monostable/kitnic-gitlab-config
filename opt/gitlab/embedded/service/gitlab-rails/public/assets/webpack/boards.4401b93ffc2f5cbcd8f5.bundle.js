webpackJsonp([1,25,26],{"1kZT":function(e,s,t){(function(e){t("rP25"),t("unKI"),t("C5Ex"),function(){var s=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.Board=Vue.extend({template:"#js-board-template",components:{"board-list":gl.issueBoards.BoardList,"board-delete":gl.issueBoards.BoardDelete,"board-blank-state":gl.issueBoards.BoardBlankState},props:{list:Object,disabled:Boolean,issueLinkBase:String,rootPath:String},data:function(){return{detailIssue:s.detail,filters:s.state.filters}},watch:{filters:{handler:function(){this.list.page=1,this.list.getIssues(!0)},deep:!0},detailIssue:{handler:function(){if(Object.keys(this.detailIssue.issue).length){var s=this.list.findIssue(this.detailIssue.issue.id);if(s){var t=this.$el.offsetLeft,n=document.querySelectorAll(".boards-list")[0],i=n.scrollLeft-t,o=t+this.$el.offsetWidth;o-=window.innerWidth>768&&n.classList.contains("is-compact")?n.offsetWidth-290:n.offsetWidth,o-n.scrollLeft>0?e(n).animate({scrollLeft:o},this.sortableOptions.animation):i>0&&e(n).animate({scrollLeft:t},this.sortableOptions.animation)}}},deep:!0}},methods:{showNewIssueForm:function(){this.$refs["board-list"].showIssueForm=!this.$refs["board-list"].showIssueForm}},mounted:function(){var e=this;this.sortableOptions=gl.issueBoards.getBoardSortableDefaultOptions({disabled:this.disabled,group:"boards",draggable:".is-draggable",handle:".js-board-handle",onEnd:function(t){if(gl.issueBoards.onEnd(),void 0!==t.newIndex&&t.oldIndex!==t.newIndex){var n=e.sortable.toArray(),i=s.findList("id",parseInt(t.item.dataset.id,10));e.$nextTick(function(){s.moveList(i,n)})}}}),this.sortable=Sortable.create(this.$el.parentNode,this.sortableOptions)}})}()}).call(s,t("lwLq"))},"3FuG":function(e,s,t){(function(e){t("IOf9"),function(){var s=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardSidebar=Vue.extend({props:{currentUser:Object},data:function(){return{detail:s.detail,issue:{},list:{}}},computed:{showSidebar:function(){return Object.keys(this.issue).length}},watch:{detail:{handler:function(){this.issue.id!==this.detail.issue.id&&e(".js-issue-board-sidebar",this.$el).each(function(s,t){e(t).data("glDropdown").clearMenu()}),this.issue=this.detail.issue,this.list=this.detail.list},deep:!0},issue:function(){this.showSidebar&&this.$nextTick(function(){e(".right-sidebar").getNiceScroll(0).doScrollTop(0,0),e(".right-sidebar").getNiceScroll().resize()})}},methods:{closeSidebar:function(){this.detail.issue={}}},mounted:function(){new IssuableContext(this.currentUser),new MilestoneSelect,new gl.DueDateSelectors,new LabelsSelect,new Sidebar,gl.Subscription.bindAll(".subscription")},components:{removeBtn:gl.issueBoards.RemoveIssueBtn}})}()}).call(s,t("lwLq"))},"9rP8":function(e,s,t){"use strict";(function(e){var t=gl.issueBoards.BoardsStore;s.a={name:"BoardNewIssue",props:{list:Object},data:function(){return{title:"",error:!1}},methods:{submit:function(s){var n=this;if(s.preventDefault(),""!==this.title.trim()){this.error=!1;var i=this.list.label?[this.list.label]:[],o=new ListIssue({title:this.title,labels:i,subscribed:!0});this.list.newIssue(o).then(function(){e(n.$refs.submitButton).enable(),t.detail.issue=o,t.detail.list=n.list}).catch(function(){e(n.$refs.submitButton).enable(),n.list.removeIssue(o),n.error=!0}),this.cancel()}},cancel:function(){this.title="",gl.IssueBoardsApp.$emit("hide-issue-form-"+this.list.id)}},mounted:function(){this.$refs.input.focus()},template:'\n    <div class="card board-new-issue-form">\n      <form @submit="submit($event)">\n        <div class="flash-container"\n          v-if="error">\n          <div class="flash-alert">\n            An error occured. Please try again.\n          </div>\n        </div>\n        <label class="label-light"\n          :for="list.id + \'-title\'">\n          Title\n        </label>\n        <input class="form-control"\n          type="text"\n          v-model="title"\n          ref="input"\n          :id="list.id + \'-title\'" />\n        <div class="clearfix prepend-top-10">\n          <button class="btn btn-success pull-left"\n            type="submit"\n            :disabled="title === \'\'"\n            ref="submit-button">\n            Submit issue\n          </button>\n          <button class="btn btn-default pull-right"\n            type="button"\n            @click="cancel">\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  '}}).call(s,t("lwLq"))},AX9H:function(e,s,t){t("EVjf");var n=t("rFKb");!function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalHeader=Vue.extend({mixins:[gl.issueBoards.ModalMixins],props:{projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return e.store},computed:{selectAllText:function(){return e.selectedCount()!==this.issues.length||0===this.issues.length?"Select all":"Deselect all"},showSearch:function(){return"all"===this.activeTab&&!this.loading&&this.issuesCount>0}},methods:{toggleAll:function(){this.$refs.selectAllBtn.blur(),e.toggleAll()}},components:{"modal-tabs":gl.issueBoards.ModalTabs,modalFilters:n},template:'\n      <div>\n        <header class="add-issues-header form-actions">\n          <h2>\n            Add issues\n            <button\n              type="button"\n              class="close"\n              data-dismiss="modal"\n              aria-label="Close"\n              @click="toggleModal(false)">\n              <span aria-hidden="true">Ã—</span>\n            </button>\n          </h2>\n        </header>\n        <modal-tabs v-if="!loading && issuesCount > 0"></modal-tabs>\n        <div\n          class="add-issues-search append-bottom-10"\n          v-if="showSearch">\n          <modal-filters\n            :project-id="projectId"\n            :milestone-path="milestonePath"\n            :label-path="labelPath">\n          </modal-filters>\n          <input\n            placeholder="Search issues..."\n            class="form-control"\n            type="search"\n            v-model="searchTerm" />\n          <button\n            type="button"\n            class="btn btn-success btn-inverted prepend-left-10"\n            ref="selectAllBtn"\n            @click="toggleAll">\n            {{ selectAllText }}\n          </button>\n        </div>\n      </div>\n    '})}()},C5Ex:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t("9rP8"),i=t("qqgg");!function(){var e=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardList=Vue.extend({template:"#js-board-list-template",components:{boardCard:i.a,boardNewIssue:n.a},props:{disabled:Boolean,list:Object,issues:Array,loading:Boolean,issueLinkBase:String,rootPath:String},data:function(){return{scrollOffset:250,filters:e.state.filters,showCount:!1,showIssueForm:!1}},watch:{filters:{handler:function(){this.list.loadingMore=!1,this.$refs.list.scrollTop=0},deep:!0},issues:function(){var e=this;this.$nextTick(function(){e.scrollHeight()<=e.listHeight()&&e.list.issuesSize>e.list.issues.length&&(e.list.page+=1,e.list.getIssues(!1)),e.scrollHeight()>e.listHeight()?e.showCount=!0:e.showCount=!1})}},methods:{listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},loadNextPage:function(){var e=this,s=this.list.nextPage();s&&(this.list.loadingMore=!0,s.then(function(){e.list.loadingMore=!1}))},toggleForm:function(){this.showIssueForm=!this.showIssueForm}},created:function(){gl.IssueBoardsApp.$on("hide-issue-form-"+this.list.id,this.toggleForm)},mounted:function(){var s=this,t=gl.issueBoards.getBoardSortableDefaultOptions({scroll:document.querySelectorAll(".boards-list")[0],group:"issues",disabled:this.disabled,filter:".board-list-count, .is-disabled",dataIdAttr:"data-issue-id",onStart:function(t){var n=s.$refs.issue[t.oldIndex];n.showDetail=!1,e.moving.list=n.list,e.moving.issue=e.moving.list.findIssue(+t.item.dataset.issueId),gl.issueBoards.onStart()},onAdd:function(t){gl.issueBoards.BoardsStore.moveIssueToList(e.moving.list,s.list,e.moving.issue,t.newIndex),s.$nextTick(function(){t.item.remove()})},onUpdate:function(t){var n=s.sortable.toArray().filter(function(e){return"-1"!==e});gl.issueBoards.BoardsStore.moveIssueInList(s.list,e.moving.issue,t.oldIndex,t.newIndex,n)},onMove:function(e){return!e.related.classList.contains("board-list-count")}});this.sortable=Sortable.create(this.$refs.list,t),this.$refs.list.onscroll=function(){s.scrollTop()>s.scrollHeight()-s.scrollOffset&&!s.list.loadingMore&&s.loadNextPage()}},beforeDestroy:function(){gl.IssueBoardsApp.$off("hide-issue-form-"+this.list.id,this.toggleForm)}})}()},"DV+M":function(e,s){function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var n=function e(s){t(this,e),this.id=s.id,this.title=s.title};window.ListMilestone=n},EVjf:function(e,s){!function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalTabs=Vue.extend({mixins:[gl.issueBoards.ModalMixins],data:function(){return e.store},computed:{selectedCount:function(){return e.selectedCount()}},destroyed:function(){this.activeTab="all"},template:'\n      <div class="top-area prepend-top-10 append-bottom-10">\n        <ul class="nav-links issues-state-filters">\n          <li :class="{ \'active\': activeTab == \'all\' }">\n            <a\n              href="#"\n              role="button"\n              @click.prevent="changeTab(\'all\')">\n              All issues\n              <span class="badge">\n                {{ issuesCount }}\n              </span>\n            </a>\n          </li>\n          <li :class="{ \'active\': activeTab == \'selected\' }">\n            <a\n              href="#"\n              role="button"\n              @click.prevent="changeTab(\'selected\')">\n              Selected issues\n              <span class="badge">\n                {{ selectedCount }}\n              </span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    '})}()},HsL0:function(e,s,t){(function(e){function s(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(s,t,n){return t&&e(s.prototype,t),n&&e(s,n),s}}(),n=function(){function n(t,i,o){s(this,n),this.boards=Vue.resource(t+"{/id}.json",{},{issues:{method:"GET",url:t+"/"+o+"/issues.json"}}),this.lists=Vue.resource(t+"/"+o+"/lists{/id}",{},{generate:{method:"POST",url:t+"/"+o+"/lists/generate.json"}}),this.issue=Vue.resource(t+"/"+o+"/issues{/id}",{}),this.issues=Vue.resource(t+"/"+o+"/lists{/id}/issues",{},{bulkUpdate:{method:"POST",url:i}}),Vue.http.interceptors.push(function(s,t){s.headers["X-CSRF-Token"]=e.rails.csrfToken(),t()})}return t(n,[{key:"all",value:function(){return this.lists.get()}},{key:"generateDefaultLists",value:function(){return this.lists.generate({})}},{key:"createList",value:function(e){return this.lists.save({},{list:{label_id:e}})}},{key:"updateList",value:function(e,s){return this.lists.update({id:e},{list:{position:s}})}},{key:"destroyList",value:function(e){return this.lists.delete({id:e})}},{key:"getIssuesForList",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={id:e};return Object.keys(s).forEach(function(e){t[e]=s[e]}),this.issues.get(t)}},{key:"moveIssue",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this.issue.update({id:e},{from_list_id:s,to_list_id:t,move_before_iid:n,move_after_iid:i})}},{key:"newIssue",value:function(e,s){return this.issues.save({id:e},{issue:s})}},{key:"getBacklog",value:function(e){return this.boards.issues(e)}},{key:"bulkUpdate",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={update:Object.assign(s,{issuable_ids:e.join(",")})};return this.issues.bulkUpdate(t)}}]),n}();window.BoardService=n}).call(s,t("lwLq"))},IOf9:function(e,s){!function(){var e=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.RemoveIssueBtn=Vue.extend({props:{issue:{type:Object,required:!0},list:{type:Object,required:!0}},methods:{removeIssue:function(){var s=this.issue,t=s.getLists(),n=t.map(function(e){return e.label.id});gl.boardService.bulkUpdate([s.globalId],{remove_label_ids:n}).catch(function(){new Flash("Failed to remove issue from board, please try again.","alert"),t.forEach(function(e){e.addIssue(s)})}),t.forEach(function(e){e.removeIssue(s)}),e.detail.issue={}}},template:'\n      <div\n        class="block list"\n        v-if="list.type !== \'done\'">\n        <button\n          class="btn btn-default btn-block"\n          type="button"\n          @click="removeIssue">\n          Remove from board\n        </button>\n      </div>\n    '})}()},IyBU:function(e,s,t){(function(e){window.Vue=t("Eruj"),window.Vue.use(t("7UJR")),t("Xfhe"),t("Omkx"),t("K8NX"),t("DV+M"),t("q2p8"),t("f7wA"),t("q4Fq"),t("HsL0"),t("aKLL"),t("TQdT"),t("qMC/"),t("1kZT"),t("3FuG"),t("dzNA"),t("lgdU"),t("wFzz"),e(function(){var s=document.getElementById("board-app"),t=gl.issueBoards.BoardsStore,n=gl.issueBoards.ModalStore;window.gl=window.gl||{},gl.IssueBoardsApp&&gl.IssueBoardsApp.$destroy(!0),t.create(),gl.IssueBoardsApp=new Vue({el:s,components:{board:gl.issueBoards.Board,"board-sidebar":gl.issueBoards.BoardSidebar,"board-add-issues-modal":gl.issueBoards.IssuesModal},data:{state:t.state,loading:!0,endpoint:s.dataset.endpoint,boardId:s.dataset.boardId,disabled:"true"===s.dataset.disabled,issueLinkBase:s.dataset.issueLinkBase,rootPath:s.dataset.rootPath,bulkUpdatePath:s.dataset.bulkUpdatePath,detailIssue:t.detail},computed:{detailIssueVisible:function(){return Object.keys(this.detailIssue.issue).length}},created:function(){gl.boardService=new BoardService(this.endpoint,this.bulkUpdatePath,this.boardId)},mounted:function(){var e=this;t.disabled=this.disabled,gl.boardService.all().then(function(s){s.json().forEach(function(e){var s=t.addList(e);"done"===s.type&&(s.position=1/0)}),e.state.lists=_.sortBy(e.state.lists,"position"),t.addBlankState(),e.loading=!1})}}),gl.IssueBoardsSearch=new Vue({el:document.getElementById("js-boards-search"),data:{filters:t.state.filters},mounted:function(){gl.issueBoards.newListDropdownInit()}}),gl.IssueBoardsModalAddBtn=new Vue({mixins:[gl.issueBoards.ModalMixins],el:document.getElementById("js-add-issues-btn"),data:{modal:n.store,store:t.state},watch:{disabled:function(){this.updateTooltip()}},computed:{disabled:function(){return!this.store.lists.filter(function(e){return"blank"!==e.type&&"done"!==e.type}).length},tooltipTitle:function(){return this.disabled?"Please add a list to your board first":""}},methods:{updateTooltip:function(){var s=this,t=e(this.$el);this.$nextTick(function(){s.disabled?t.tooltip():t.tooltip("destroy")})},openModal:function(){this.disabled||this.toggleModal(!0)}},mounted:function(){this.updateTooltip()},template:'\n      <button\n        class="btn btn-create pull-right prepend-left-10"\n        type="button"\n        data-placement="bottom"\n        :class="{ \'disabled\': disabled }"\n        :title="tooltipTitle"\n        :aria-disabled="disabled"\n        @click="openModal">\n        Add issues\n      </button>\n    '})})}).call(s,t("lwLq"))},K8NX:function(e,s){function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(s,t,n){return t&&e(s.prototype,t),n&&e(s,n),s}}(),i=function(){function e(s){t(this,e),this.id=s.id,this._uid=this.guid(),this.position=s.position,this.title=s.title,this.type=s.list_type,this.preset=["done","blank"].indexOf(this.type)>-1,this.filters=gl.issueBoards.BoardsStore.state.filters,this.page=1,this.loading=!0,this.loadingMore=!1,this.issues=[],this.issuesSize=0,s.label&&(this.label=new ListLabel(s.label)),"blank"!==this.type&&this.id&&this.getIssues()}return n(e,[{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"save",value:function(){var e=this;return gl.boardService.createList(this.label.id).then(function(s){var t=s.json();return e.id=t.id,e.type=t.list_type,e.position=t.position,e.getIssues()})}},{key:"destroy",value:function(){var e=gl.issueBoards.BoardsStore.state.lists.indexOf(this);gl.issueBoards.BoardsStore.state.lists.splice(e,1),gl.issueBoards.BoardsStore.updateNewListDropdown(this.id),gl.boardService.destroyList(this.id)}},{key:"update",value:function(){gl.boardService.updateList(this.id,this.position)}},{key:"nextPage",value:function(){if(this.issuesSize>this.issues.length)return this.page+=1,this.getIssues(!1)}},{key:"getIssues",value:function(){var e=this,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.filters,n={page:this.page};return Object.keys(t).forEach(function(e){n[e]=t[e]}),this.label&&(n.label_name=n.label_name.filter(function(s){return s!==e.label.title})),s&&(this.loading=!0),gl.boardService.getIssuesForList(this.id,n).then(function(t){var n=t.json();e.loading=!1,e.issuesSize=n.size,s&&(e.issues=[]),e.createIssues(n.issues)})}},{key:"newIssue",value:function(e){return this.addIssue(e),this.issuesSize+=1,gl.boardService.newIssue(this.id,e).then(function(s){var t=s.json();e.id=t.iid})}},{key:"createIssues",value:function(e){var s=this;e.forEach(function(e){s.addIssue(new ListIssue(e))})}},{key:"addIssue",value:function(e,s,t){var n=null,i=null;this.findIssue(e.id)||(void 0!==t?(this.issues.splice(t,0,e),this.issues[t-1]&&(n=this.issues[t-1].id),this.issues[t+1]&&(i=this.issues[t+1].id)):this.issues.push(e),this.label&&e.addLabel(this.label),s&&(this.issuesSize+=1,this.updateIssueLabel(e,s,n,i)))}},{key:"moveIssue",value:function(e,s,t,n,i){this.issues.splice(s,1),this.issues.splice(t,0,e),gl.boardService.moveIssue(e.id,null,null,n,i)}},{key:"updateIssueLabel",value:function(e,s,t,n){gl.boardService.moveIssue(e.id,s.id,this.id,t,n).then(function(){s.getIssues(!1)})}},{key:"findIssue",value:function(e){return this.issues.filter(function(s){return s.id===e})[0]}},{key:"removeIssue",value:function(e){var s=this;this.issues=this.issues.filter(function(t){var n=e.id===t.id;return n&&(s.issuesSize-=1,t.removeLabel(s.label)),!n})}}]),e}();window.List=i},"MlV/":function(e,s){e.exports=Vue.extend({name:"filter-milestone",props:{milestonePath:{type:String,required:!0}},mounted:function(){new MilestoneSelect(null,this.$refs.dropdown)},template:'\n    <div class="dropdown">\n      <button\n        class="dropdown-menu-toggle js-milestone-select"\n        type="button"\n        data-toggle="dropdown"\n        data-show-any="true"\n        data-show-upcoming="true"\n        data-show-started="true"\n        data-field-name="milestone_title"\n        :data-milestones="milestonePath"\n        ref="dropdown">\n        <span class="dropdown-toggle-text">\n          Milestone\n        </span>\n        <i class="fa fa-chevron-down"></i>\n      </button>\n      <div class="dropdown-menu dropdown-select dropdown-menu-selectable dropdown-menu-milestone">\n        <div class="dropdown-title">\n          <span>Filter by milestone</span>\n          <button\n            class="dropdown-title-button dropdown-menu-close"\n            aria-label="Close"\n            type="button">\n            <i class="fa fa-times dropdown-menu-close-icon"></i>\n          </button>\n        </div>\n        <div class="dropdown-input">\n          <input\n            type="search"\n            class="dropdown-input-field"\n            placeholder="Search milestones"\n            autocomplete="off" />\n          <i class="fa fa-search dropdown-input-search"></i>\n          <i role="button" class="fa fa-times dropdown-input-clear js-dropdown-input-clear"></i>\n        </div>\n        <div class="dropdown-content"></div>\n        <div class="dropdown-loading"><i class="fa fa-spinner fa-spin"></i></div>\n      </div>\n    </div>\n  '})},Omkx:function(e,s){function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var n=function e(s){t(this,e),this.id=s.id,this.title=s.title,this.color=s.color,this.textColor=s.text_color,this.description=s.description,this.priority=null!==s.priority?s.priority:1/0};window.ListLabel=n},Pn7F:function(e,s){!function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalList=Vue.extend({props:{issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},image:{type:String,required:!0}},data:function(){return e.store},watch:{activeTab:function(){"all"===this.activeTab&&e.purgeUnselectedIssues()}},computed:{loopIssues:function(){return"all"===this.activeTab?this.issues:this.selectedIssues},groupedIssues:function(){var e=this,s=[];return this.loopIssues.forEach(function(t,n){var i=n%e.columns;s[i]||s.push([]),s[i].push(t)}),s}},methods:{scrollHandler:function(){var e=Math.floor(this.issues.length/this.perPage);this.scrollTop()>this.scrollHeight()-100&&!this.loadingNewPage&&e===this.page&&(this.loadingNewPage=!0,this.page+=1)},toggleIssue:function(s,t){"A"!==s.target.tagName&&e.toggleIssue(t)},listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},showIssue:function(s){if("all"===this.activeTab)return!0;var t=e.selectedIssueIndex(s);return t!==-1},setColumnCount:function(){var e=bp.getBreakpointSize();"lg"===e||"md"===e?this.columns=3:"sm"===e?this.columns=2:this.columns=1}},mounted:function(){this.scrollHandlerWrapper=this.scrollHandler.bind(this),this.setColumnCountWrapper=this.setColumnCount.bind(this),this.setColumnCount(),this.$refs.list.addEventListener("scroll",this.scrollHandlerWrapper),window.addEventListener("resize",this.setColumnCountWrapper)},beforeDestroy:function(){this.$refs.list.removeEventListener("scroll",this.scrollHandlerWrapper),window.removeEventListener("resize",this.setColumnCountWrapper)},components:{"issue-card-inner":gl.issueBoards.IssueCardInner},template:'\n      <section\n        class="add-issues-list add-issues-list-columns"\n        ref="list">\n        <div\n          class="empty-state add-issues-empty-state-filter text-center"\n          v-if="issuesCount > 0 && issues.length === 0">\n          <div\n            class="svg-content"\n            v-html="image">\n          </div>\n          <div class="text-content">\n            <h4>\n              There are no issues to show.\n            </h4>\n          </div>\n        </div>\n        <div\n          v-for="group in groupedIssues"\n          class="add-issues-list-column">\n          <div\n            v-for="issue in group"\n            v-if="showIssue(issue)"\n            class="card-parent">\n            <div\n              class="card"\n              :class="{ \'is-active\': issue.selected }"\n              @click="toggleIssue($event, issue)">\n              <issue-card-inner\n                :issue="issue"\n                :issue-link-base="issueLinkBase"\n                :root-path="rootPath">\n              </issue-card-inner>\n              <span\n                :aria-label="\'Issue #\' + issue.id + \' selected\'"\n                aria-checked="true"\n                v-if="issue.selected"\n                class="issue-card-selected text-center">\n                <i class="fa fa-check"></i>\n              </span>\n            </div>\n          </div>\n        </div>\n      </section>\n    '})}()},TQdT:function(e,s,t){(function(e){!function(s){window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.onStart=function(){e(".has-tooltip").tooltip("hide").tooltip("disable"),document.body.classList.add("is-dragging")},gl.issueBoards.onEnd=function(){e(".has-tooltip").tooltip("enable"),document.body.classList.remove("is-dragging")},gl.issueBoards.touchEnabled="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,gl.issueBoards.getBoardSortableDefaultOptions=function(e){var s={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost",filter:".board-delete, .btn",delay:gl.issueBoards.touchEnabled?100:0,scrollSensitivity:gl.issueBoards.touchEnabled?60:100,scrollSpeed:20,onStart:gl.issueBoards.onStart,onEnd:gl.issueBoards.onEnd};return Object.keys(e).forEach(function(t){s[t]=e[t]}),s}}(window)}).call(s,t("lwLq"))},VVVP:function(e,s){!function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalFooterListsDropdown=Vue.extend({data:function(){return{modal:e.store,state:gl.issueBoards.BoardsStore.state}},computed:{selected:function(){return this.modal.selectedList||this.state.lists[0]}},destroyed:function(){this.modal.selectedList=null},template:'\n      <div class="dropdown inline">\n        <button\n          class="dropdown-menu-toggle"\n          type="button"\n          data-toggle="dropdown"\n          aria-expanded="false">\n          <span\n            class="dropdown-label-box"\n            :style="{ backgroundColor: selected.label.color }">\n          </span>\n          {{ selected.title }}\n          <i class="fa fa-chevron-down"></i>\n        </button>\n        <div class="dropdown-menu dropdown-menu-selectable dropdown-menu-drop-up">\n          <ul>\n            <li\n              v-for="list in state.lists"\n              v-if="list.type == \'label\'">\n              <a\n                href="#"\n                role="button"\n                :class="{ \'is-active\': list.id == selected.id }"\n                @click.prevent="modal.selectedList = list">\n                <span\n                  class="dropdown-label-box"\n                  :style="{ backgroundColor: list.label.color }">\n                </span>\n                {{ list.title }}\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    '})}()},Xfhe:function(e,s){function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(s,t,n){return t&&e(s.prototype,t),n&&e(s,n),s}}(),i=function(){function e(s){var n=this;t(this,e),this.globalId=s.id,this.id=s.iid,this.title=s.title,this.confidential=s.confidential,this.dueDate=s.due_date,this.subscribed=s.subscribed,this.labels=[],this.selected=!1,this.assignee=!1,this.position=s.relative_position||1/0,s.assignee&&(this.assignee=new ListUser(s.assignee)),s.milestone&&(this.milestone=new ListMilestone(s.milestone)),s.labels.forEach(function(e){n.labels.push(new ListLabel(e))})}return n(e,[{key:"addLabel",value:function(e){this.findLabel(e)||this.labels.push(new ListLabel(e))}},{key:"findLabel",value:function(e){return this.labels.filter(function(s){return s.title===e.title})[0]}},{key:"removeLabel",value:function(e){e&&(this.labels=this.labels.filter(function(s){return e.title!==s.title}))}},{key:"removeLabels",value:function(e){e.forEach(this.removeLabel.bind(this))}},{key:"getLists",value:function(){var e=this;return gl.issueBoards.BoardsStore.state.lists.filter(function(s){return s.findIssue(e.id)})}},{key:"update",value:function(e){var s={issue:{milestone_id:this.milestone?this.milestone.id:null,due_date:this.dueDate,assignee_id:this.assignee?this.assignee.id:null,label_ids:this.labels.map(function(e){return e.id})}};return s.issue.label_ids.length||(s.issue.label_ids=[""]),Vue.http.patch(e,s)}}]),e}();window.ListIssue=i},aKLL:function(e,s){!function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalMixins={methods:{toggleModal:function(s){e.store.showAddIssuesModal=s},changeTab:function(s){e.store.activeTab=s}}}}()},dzNA:function(e,s,t){(function(e){!function(){window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{};var s=gl.issueBoards.BoardsStore;e(document).off("created.label").on("created.label",function(e,t){s.new({title:t.title,position:s.state.lists.length-2,list_type:"label",label:{id:t.id,title:t.title,color:t.color}})}),gl.issueBoards.newListDropdownInit=function(){e(".js-new-board-list").each(function(){var t=e(this);new gl.CreateLabelDropdown(t.closest(".dropdown").find(".dropdown-new-label"),t.data("namespace-path"),t.data("project-path")),t.glDropdown({data:function(s,n){e.get(t.attr("data-labels")).then(function(e){n(e)})},renderRow:function(t){var n=s.findList("title",t.title),i=e("<li />"),o=e("<a />",{class:n?"is-active js-board-list-"+n.id:"",text:t.title,href:"#"}),a=e("<span />",{class:"dropdown-label-box",style:"background-color: "+t.color});return i.append(o.prepend(a))},search:{fields:["title"]},filterable:!0,selectable:!0,multiSelect:!0,clicked:function(e,t,n){n.preventDefault(),s.findList("title",e.title)||(s.new({title:e.title,position:s.state.lists.length-2,list_type:"label",label:{id:e.id,title:e.title,color:e.color}}),s.state.lists=_.sortBy(s.state.lists,"position"))}})})}}()}).call(s,t("lwLq"))},eqGL:function(e,s){!function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalEmptyState=Vue.extend({mixins:[gl.issueBoards.ModalMixins],data:function(){return e.store},props:{image:{type:String,required:!0},newIssuePath:{type:String,required:!0}},computed:{contents:function(){var e={title:"You haven't added any issues to your project yet",content:"\n            An issue can be a bug, a todo or a feature request that needs to be\n            discussed in a project. Besides, issues are searchable and filterable.\n          "};return"selected"===this.activeTab&&(e.title="You haven't selected any issues yet",e.content="\n            Go back to <strong>All issues</strong> and select some issues\n            to add to your board.\n          "),e}},template:'\n      <section class="empty-state">\n        <div class="row">\n          <div class="col-xs-12 col-sm-6 col-sm-push-6">\n            <aside class="svg-content" v-html="image"></aside>\n          </div>\n          <div class="col-xs-12 col-sm-6 col-sm-pull-6">\n            <div class="text-content">\n              <h4>{{ contents.title }}</h4>\n              <p v-html="contents.content"></p>\n              <a\n                :href="newIssuePath"\n                class="btn btn-success btn-inverted"\n                v-if="activeTab === \'all\'">\n                New issue\n              </a>\n              <button\n                type="button"\n                class="btn btn-default"\n                @click="changeTab(\'all\')"\n                v-if="activeTab === \'selected\'">\n                All issues\n              </button>\n            </div>\n          </div>\n        </div>\n      </section>\n    '})}()},f7wA:function(e,s,t){(function(e){!function(){window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardsStore={disabled:!1,state:{},detail:{issue:{}},moving:{issue:{},list:{}},create:function(){this.state.lists=[],this.state.filters={author_id:gl.utils.getParameterValues("author_id")[0],assignee_id:gl.utils.getParameterValues("assignee_id")[0],milestone_title:gl.utils.getParameterValues("milestone_title")[0],label_name:gl.utils.getParameterValues("label_name[]"),search:""}},addList:function(e){
var s=new List(e);return this.state.lists.push(s),s},new:function(e){var s=this,t=this.addList(e);t.save().then(function(){s.state.lists=_.sortBy(s.state.lists,"position")}),this.removeBlankState()},updateNewListDropdown:function(s){e(".js-board-list-"+s).removeClass("is-active")},shouldAddBlankState:function(){return!this.state.lists.filter(function(e){return"done"!==e.type})[0]},addBlankState:function(){!this.shouldAddBlankState()||this.welcomeIsHidden()||this.disabled||(this.addList({id:"blank",list_type:"blank",title:"Welcome to your Issue Board!",position:0}),this.state.lists=_.sortBy(this.state.lists,"position"))},removeBlankState:function(){this.removeList("blank"),Cookies.set("issue_board_welcome_hidden","true",{expires:3650,path:""})},welcomeIsHidden:function(){return"true"===Cookies.get("issue_board_welcome_hidden")},removeList:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",t=this.findList("id",e,s);t&&(this.state.lists=this.state.lists.filter(function(s){return s.id!==e}))},moveList:function(e,s){var t=this;s.forEach(function(e,s){var n=t.findList("id",parseInt(e,10));n.position=s}),e.update()},moveIssueToList:function(e,s,t,n){var i=s.findIssue(t.id),o=t.getLists(),a=o.map(function(e){return e.label});i?(s.updateIssueLabel(t,e),i.removeLabel(e.label)):s.addIssue(t,e,n),"done"===s.type?(o.forEach(function(e){e.removeIssue(t)}),t.removeLabels(a)):e.removeIssue(t)},moveIssueInList:function(e,s,t,n,i){var o=parseInt(i[n-1],10)||null,a=parseInt(i[n+1],10)||null;e.moveIssue(s,t,n,o,a)},findList:function(e,s){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";return this.state.lists.filter(function(n){var i=!t||n.type===t;return n[e]===s&&i})[0]},updateFiltersUrl:function(){history.pushState(null,null,"?"+e.param(this.state.filters))}}}()}).call(s,t("lwLq"))},fOmY:function(e,s){e.exports=Vue.extend({name:"filter-label",props:{labelPath:{type:String,required:!0}},mounted:function(){new LabelsSelect(this.$refs.dropdown)},template:'\n    <div class="dropdown">\n      <button\n        class="dropdown-menu-toggle js-label-select js-multiselect js-extra-options"\n        type="button"\n        data-toggle="dropdown"\n        data-show-any="true"\n        data-show-no="true"\n        :data-labels="labelPath"\n        ref="dropdown">\n        <span class="dropdown-toggle-text">\n          Label\n        </span>\n        <i class="fa fa-chevron-down"></i>\n      </button>\n      <div class="dropdown-menu dropdown-select dropdown-menu-paging dropdown-menu-labels dropdown-menu-selectable">\n        <div class="dropdown-title">\n          Filter by label\n          <button\n            class="dropdown-title-button dropdown-menu-close"\n            aria-label="Close"\n            type="button">\n            <i class="fa fa-times dropdown-menu-close-icon"></i>\n          </button>\n        </div>\n        <div class="dropdown-input">\n          <input\n            type="search"\n            class="dropdown-input-field"\n            placeholder="Search"\n            autocomplete="off" />\n          <i class="fa fa-search dropdown-input-search"></i>\n          <i role="button" class="fa fa-times dropdown-input-clear js-dropdown-input-clear"></i>\n        </div>\n        <div class="dropdown-content"></div>\n        <div class="dropdown-loading"><i class="fa fa-spinner fa-spin"></i></div>\n      </div>\n    </div>\n  '})},iqJG:function(e,s,t){t("VVVP"),function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.ModalFooter=Vue.extend({mixins:[gl.issueBoards.ModalMixins],data:function(){return{modal:e.store,state:gl.issueBoards.BoardsStore.state}},computed:{submitDisabled:function(){return!e.selectedCount()},submitText:function(){var s=e.selectedCount();return"Add "+(s>0?s:"")+" "+gl.text.pluralize("issue",s)}},methods:{addIssues:function(){var s=this.modal.selectedList||this.state.lists[0],t=e.getSelectedIssues(),n=t.map(function(e){return e.globalId});gl.boardService.bulkUpdate(n,{add_label_ids:[s.label.id]}).catch(function(){new Flash("Failed to update issues, please try again.","alert"),t.forEach(function(e){s.removeIssue(e),s.issuesSize-=1})}),t.forEach(function(e){s.addIssue(e),s.issuesSize+=1}),this.toggleModal(!1)}},components:{"lists-dropdown":gl.issueBoards.ModalFooterListsDropdown},template:'\n      <footer\n        class="form-actions add-issues-footer">\n        <div class="pull-left">\n          <button\n            class="btn btn-success"\n            type="button"\n            :disabled="submitDisabled"\n            @click="addIssues">\n            {{ submitText }}\n          </button>\n          <span class="inline add-issues-footer-to-list">\n            to list\n          </span>\n          <lists-dropdown></lists-dropdown>\n        </div>\n        <button\n          class="btn btn-default pull-right"\n          type="button"\n          @click="toggleModal(false)">\n          Cancel\n        </button>\n      </footer>\n    '})}()},lgdU:function(e,s,t){t("AX9H"),t("Pn7F"),t("iqJG"),t("eqGL"),function(){var e=gl.issueBoards.ModalStore;gl.issueBoards.IssuesModal=Vue.extend({props:{blankStateImage:{type:String,required:!0},newIssuePath:{type:String,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return e.store},watch:{page:function(){this.loadIssues()},searchTerm:function(){this.searchOperation()},showAddIssuesModal:function(){var e=this;this.showAddIssuesModal&&!this.issues.length?(this.loading=!0,this.loadIssues().then(function(){e.loading=!1})):this.showAddIssuesModal||(this.issues=[],this.selectedIssues=[],this.issuesCount=!1)},filter:{handler:function(){this.page=1,this.loadIssues(!0)},deep:!0}},methods:{searchOperation:_.debounce(function(){this.loadIssues(!0)},500),loadIssues:function(){var s=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.showAddIssuesModal)return!1;var n=Object.assign({},this.filter,{search:this.searchTerm,page:this.page,per:this.perPage});return gl.boardService.getBacklog(n).then(function(n){var i=n.json();t&&(s.issues=[]),i.issues.forEach(function(t){var n=new ListIssue(t),i=e.findSelectedIssue(n);n.selected=!!i,s.issues.push(n)}),s.loadingNewPage=!1,s.issuesCount||(s.issuesCount=i.size)})}},computed:{showList:function(){return"selected"===this.activeTab?this.selectedIssues.length>0:this.issuesCount>0},showEmptyState:function(){return!this.loading&&0===this.issuesCount||"selected"===this.activeTab&&0===this.selectedIssues.length}},created:function(){this.page=1},components:{"modal-header":gl.issueBoards.ModalHeader,"modal-list":gl.issueBoards.ModalList,"modal-footer":gl.issueBoards.ModalFooter,"empty-state":gl.issueBoards.ModalEmptyState},template:'\n      <div\n        class="add-issues-modal"\n        v-if="showAddIssuesModal">\n        <div class="add-issues-container">\n          <modal-header\n            :project-id="projectId"\n            :milestone-path="milestonePath"\n            :label-path="labelPath">\n          </modal-header>\n          <modal-list\n            :image="blankStateImage"\n            :issue-link-base="issueLinkBase"\n            :root-path="rootPath"\n            v-if="!loading && showList"></modal-list>\n          <empty-state\n            v-if="showEmptyState"\n            :image="blankStateImage"\n            :new-issue-path="newIssuePath"></empty-state>\n          <section\n            class="add-issues-list text-center"\n            v-if="loading">\n            <div class="add-issues-list-loading">\n              <i class="fa fa-spinner fa-spin"></i>\n            </div>\n          </section>\n          <modal-footer></modal-footer>\n        </div>\n      </div>\n    '})}()},pXFb:function(e,s,t){(function(e){!function(){var s=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.IssueCardInner=Vue.extend({props:{issue:{type:Object,required:!0},issueLinkBase:{type:String,required:!0},list:{type:Object,required:!1},rootPath:{type:String,required:!0}},methods:{showLabel:function(e){return!this.list||(!this.list.label||e.id!==this.list.label.id)},filterByLabel:function(t,n){var i=t.title,o=s.state.filters.label_name.indexOf(t.title);e(n.currentTarget).tooltip("hide"),o===-1?(s.state.filters.label_name.push(t.title),e(".labels-filter").prepend('<input type="hidden" name="label_name[]" value="'+t.title+'" />')):(s.state.filters.label_name.splice(o,1),i=s.state.filters.label_name[0],e('.labels-filter input[name="label_name[]"][value="'+t.title+'"]').remove());var a=s.state.filters.label_name;0===a.length?i="Label":a.length>1&&(i=a[0]+" + "+(a.length-1)+" more"),e(".labels-filter .dropdown-toggle-text").text(i),s.updateFiltersUrl()},labelStyle:function(e){return{backgroundColor:e.color,color:e.textColor}}},template:'\n      <div>\n        <h4 class="card-title">\n          <i\n            class="fa fa-eye-slash confidential-icon"\n            v-if="issue.confidential"></i>\n          <a\n            :href="issueLinkBase + \'/\' + issue.id"\n            :title="issue.title">\n            {{ issue.title }}\n          </a>\n        </h4>\n        <div class="card-footer">\n          <span\n            class="card-number"\n            v-if="issue.id">\n            #{{ issue.id }}\n          </span>\n          <a\n            class="card-assignee has-tooltip"\n            :href="rootPath + issue.assignee.username"\n            :title="\'Assigned to \' + issue.assignee.name"\n            v-if="issue.assignee"\n            data-container="body">\n            <img\n              class="avatar avatar-inline s20"\n              :src="issue.assignee.avatar"\n              width="20"\n              height="20"\n              :alt="\'Avatar for \' + issue.assignee.name" />\n          </a>\n          <button\n            class="label color-label has-tooltip"\n            v-for="label in issue.labels"\n            type="button"\n            v-if="showLabel(label)"\n            @click="filterByLabel(label, $event)"\n            :style="labelStyle(label)"\n            :title="label.description"\n            data-container="body">\n            {{ label.title }}\n          </button>\n        </div>\n      </div>\n    '})}()}).call(s,t("lwLq"))},q2p8:function(e,s){function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var n=function e(s){t(this,e),this.id=s.id,this.name=s.name,this.username=s.username,this.avatar=s.avatar_url};window.ListUser=n},q4Fq:function(e,s){function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(s,t,n){return t&&e(s.prototype,t),n&&e(s,n),s}}();!function(){window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{};var e=function(){function e(){t(this,e),this.store={columns:3,issues:[],issuesCount:!1,selectedIssues:[],showAddIssuesModal:!1,activeTab:"all",selectedList:null,searchTerm:"",loading:!1,loadingNewPage:!1,page:1,perPage:50},this.setDefaultFilter()}return n(e,[{key:"setDefaultFilter",value:function(){this.store.filter={author_id:"",assignee_id:"",milestone_title:"",label_name:[]}}},{key:"selectedCount",value:function(){return this.getSelectedIssues().length}},{key:"toggleIssue",value:function(e){var s=e,t=s.selected;s.selected=!t,t?this.removeSelectedIssue(s):this.addSelectedIssue(s)}},{key:"toggleAll",value:function(){var e=this,s=this.selectedCount()!==this.store.issues.length;this.store.issues.forEach(function(t){var n=t;n.selected!==s&&(n.selected=s,s?e.addSelectedIssue(t):e.removeSelectedIssue(t))})}},{key:"getSelectedIssues",value:function(){return this.store.selectedIssues.filter(function(e){return e.selected})}},{key:"addSelectedIssue",value:function(e){var s=this.selectedIssueIndex(e);s===-1&&this.store.selectedIssues.push(e)}},{key:"removeSelectedIssue",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("all"===this.store.activeTab||s)&&(this.store.selectedIssues=this.store.selectedIssues.filter(function(s){return s.id!==e.id}))}},{key:"purgeUnselectedIssues",value:function(){var e=this;this.store.selectedIssues.forEach(function(s){s.selected||e.removeSelectedIssue(s,!0)})}},{key:"selectedIssueIndex",value:function(e){return this.store.selectedIssues.indexOf(e)}},{key:"findSelectedIssue",value:function(e){return this.store.selectedIssues.filter(function(s){return s.id===e.id})[0]}}]),e}();gl.issueBoards.ModalStore=new e}()},"qMC/":function(e,s){Vue.filter("due-date",function(e){var s=new Date(e);return dateFormat(s,"mmm d, yyyy",!0)})},qqgg:function(e,s,t){"use strict";t("pXFb");var n=gl.issueBoards.BoardsStore;s.a={name:"BoardsIssueCard",template:'\n    <li class="card"\n      :class="{ \'user-can-drag\': !disabled && issue.id, \'is-disabled\': disabled || !issue.id, \'is-active\': issueDetailVisible }"\n      :index="index"\n      :data-issue-id="issue.id"\n      @mousedown="mouseDown"\n      @mousemove="mouseMove"\n      @mouseup="showIssue($event)">\n      <issue-card-inner\n        :list="list"\n        :issue="issue"\n        :issue-link-base="issueLinkBase"\n        :root-path="rootPath" />\n    </li>\n  ',components:{"issue-card-inner":gl.issueBoards.IssueCardInner},props:{list:Object,issue:Object,issueLinkBase:String,disabled:Boolean,index:Number,rootPath:String},data:function(){return{showDetail:!1,detailIssue:n.detail}},computed:{issueDetailVisible:function(){return this.detailIssue.issue&&this.detailIssue.issue.id===this.issue.id}},methods:{mouseDown:function(){this.showDetail=!0},mouseMove:function(){this.showDetail=!1},showIssue:function(e){var s=e.target.tagName.toLowerCase();"a"!==s&&"button"!==s&&this.showDetail&&(this.showDetail=!1,n.detail.issue&&n.detail.issue.id===this.issue.id?n.detail.issue={}:(n.detail.issue=this.issue,n.detail.list=this.list))}}}},rFKb:function(e,s,t){var n=t("wH23"),i=t("MlV/"),o=t("fOmY");e.exports=Vue.extend({name:"modal-filters",props:{projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},destroyed:function(){gl.issueBoards.ModalStore.setDefaultFilter()},components:{userFilter:n,milestoneFilter:i,labelFilter:o},template:'\n    <div class="modal-filters">\n      <user-filter\n        dropdown-class-name="dropdown-menu-author"\n        toggle-class-name="js-user-search js-author-search"\n        toggle-label="Author"\n        field-name="author_id"\n        :project-id="projectId"></user-filter>\n      <user-filter\n        dropdown-class-name="dropdown-menu-author"\n        toggle-class-name="js-assignee-search"\n        toggle-label="Assignee"\n        field-name="assignee_id"\n        :null-user="true"\n        :project-id="projectId"></user-filter>\n      <milestone-filter :milestone-path="milestonePath"></milestone-filter>\n      <label-filter :label-path="labelPath"></label-filter>\n    </div>\n  '})},rP25:function(e,s){!function(){var e=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardBlankState=Vue.extend({data:function(){return{predefinedLabels:[new ListLabel({title:"To Do",color:"#F0AD4E"}),new ListLabel({title:"Doing",color:"#5CB85C"})]}},methods:{addDefaultLists:function(){this.clearBlankState(),this.predefinedLabels.forEach(function(s,t){e.addList({title:s.title,position:t,list_type:"label",label:{title:s.title,color:s.color}})}),e.state.lists=_.sortBy(e.state.lists,"position"),gl.boardService.generateDefaultLists().then(function(s){s.json().forEach(function(s){var t=e.findList("title",s.title);t.id=s.id,t.label.id=s.label.id,t.getIssues()})})},clearBlankState:e.removeBlankState.bind(e)}})}()},unKI:function(e,s,t){(function(e){!function(){window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardDelete=Vue.extend({props:{list:Object},methods:{deleteBoard:function(){e(this.$el).tooltip("hide"),confirm("Are you sure you want to delete this list?")&&this.list.destroy()}}})}()}).call(s,t("lwLq"))},wH23:function(e,s){e.exports=Vue.extend({name:"filter-user",props:{toggleClassName:{type:String,required:!0},dropdownClassName:{type:String,required:!1,default:""},toggleLabel:{type:String,required:!0},fieldName:{type:String,required:!0},nullUser:{type:Boolean,required:!1,default:!1},projectId:{type:Number,required:!0}},mounted:function(){new UsersSelect(null,this.$refs.dropdown)},computed:{currentUsername:function(){return gon.current_username},dropdownTitle:function(){return"Filter by "+this.toggleLabel.toLowerCase()},inputPlaceholder:function(){return"Search "+this.toggleLabel.toLowerCase()}},template:'\n    <div class="dropdown">\n      <button\n        class="dropdown-menu-toggle js-user-search"\n        :class="toggleClassName"\n        type="button"\n        data-toggle="dropdown"\n        data-current-user="true"\n        :data-any-user="\'Any \' + toggleLabel"\n        :data-null-user="nullUser"\n        :data-field-name="fieldName"\n        :data-project-id="projectId"\n        :data-first-user="currentUsername"\n        ref="dropdown">\n        <span class="dropdown-toggle-text">\n          {{ toggleLabel }}\n        </span>\n        <i class="fa fa-chevron-down"></i>\n      </button>\n      <div\n        class="dropdown-menu dropdown-select dropdown-menu-user dropdown-menu-selectable"\n        :class="dropdownClassName">\n        <div class="dropdown-title">\n          {{ dropdownTitle }}\n          <button\n            class="dropdown-title-button dropdown-menu-close"\n            aria-label="Close"\n            type="button">\n            <i class="fa fa-times dropdown-menu-close-icon"></i>\n          </button>\n        </div>\n        <div class="dropdown-input">\n          <input\n            type="search"\n            class="dropdown-input-field"\n            autocomplete="off"\n            :placeholder="inputPlaceholder" />\n          <i class="fa fa-search dropdown-input-search"></i>\n          <i\n            role="button"\n            class="fa fa-times dropdown-input-clear js-dropdown-input-clear">\n          </i>\n        </div>\n        <div class="dropdown-content"></div>\n        <div class="dropdown-loading"><i class="fa fa-spinner fa-spin"></i></div>\n      </div>\n    </div>\n  '})}},["IyBU"]);
//# sourceMappingURL=boards.4401b93ffc2f5cbcd8f5.bundle.js.map