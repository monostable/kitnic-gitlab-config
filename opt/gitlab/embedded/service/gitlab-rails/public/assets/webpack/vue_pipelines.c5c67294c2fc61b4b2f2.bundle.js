webpackJsonp([15,25,26],{"3UJI":function(e,n,t){window.Vue=t("Eruj"),t("03o2"),t("kmbW");var i=t("DFB/"),a=t("ANrC");!function(e){e.VuePipelines=Vue.extend({components:{"gl-pagination":e.VueGlPagination,"pipelines-table-component":a},data:function(){return{pipelines:[],timeLoopInterval:"",intervalId:"",apiScope:"all",pageInfo:{},pagenum:1,count:{},pageRequest:!1}},props:["scope","store"],created:function(){var n=e.utils.getParameterByName("page"),t=e.utils.getParameterByName("scope");n&&(this.pagenum=n),t&&(this.apiScope=t),this.store.fetchDataLoop.call(this,Vue,this.pagenum,this.scope,this.apiScope)},beforeUpdate:function(){this.pipelines.length&&this.$children&&i.startTimeAgoLoops.call(this,Vue)},methods:{change:function(n){var t=e.utils.setParamInURL("page",n);return e.utils.visitUrl(t),t}},template:"\n      <div>\n        <div class=\"pipelines realtime-loading\" v-if='pageRequest'>\n          <i class=\"fa fa-spinner fa-spin\"></i>\n        </div>\n\n        <div class=\"blank-state blank-state-no-icon\"\n          v-if=\"!pageRequest && pipelines.length === 0\">\n          <h2 class=\"blank-state-title js-blank-state-title\">\n            No pipelines to show\n          </h2>\n        </div>\n\n        <div class=\"table-holder\" v-if='!pageRequest && pipelines.length'>\n          <pipelines-table-component :pipelines='pipelines'/>\n        </div>\n\n        <gl-pagination\n          v-if='!pageRequest && pipelines.length && pageInfo.total > pageInfo.perPage'\n          :pagenum='pagenum'\n          :change='change'\n          :count='count.all'\n          :pageInfo='pageInfo'\n        >\n        </gl-pagination>\n      </div>\n    "})}(window.gl||(window.gl={}))},jsyL:function(e,n,t){(function(e){window.Vue=t("Eruj"),window.Vue.use(t("7UJR")),t("RsTm"),t("wFzz"),t("3UJI"),e(function(){return new Vue({el:document.querySelector(".vue-pipelines-index"),data:function(){var e=document.querySelector(".pipelines");return{scope:e.dataset.url,store:new gl.PipelineStore}},components:{"vue-pipelines":gl.VuePipelines},template:'\n    <vue-pipelines\n      :scope="scope"\n      :store="store">\n    </vue-pipelines>\n  '})})}).call(n,t("lwLq"))},kmbW:function(e,n){function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();!function(e){var n=function(n){var t=e.utils.normalizeHeaders(n),i=e.utils.parseIntPagination(t);return i};e.PipelineStore=function(){function e(){t(this,e)}return i(e,[{key:"fetchDataLoop",value:function(e,t,i,a){var o=this;return this.pageRequest=!0,this.$http.get(i+"?scope="+a+"&page="+t).then(function(e){var t=n(e.headers);o.pageInfo=Object.assign({},o.pageInfo,t);var i=JSON.parse(e.body);o.count=Object.assign({},o.count,i.count),o.pipelines=Object.assign([],o.pipelines,i.pipelines),o.pageRequest=!1},function(){return o.pageRequest=!1,new Flash("An error occurred while fetching the pipelines, please reload the page again.")})}}]),e}()}(window.gl||(window.gl={}))}},["jsyL"]);
//# sourceMappingURL=vue_pipelines.c5c67294c2fc61b4b2f2.bundle.js.map